<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>decorrelation - DS processing with CLI</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">decorrelation</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kanglcn/decorrelation" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../Tutorials/adaptive_multilook.html">Tutorials</a></li><li class="breadcrumb-item"><a href="../Tutorials/ds_processing_with_cli.html">DS processing with CLI</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">decorrelation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">API</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../API/shp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">shp</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../API/co.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">co</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../API/pl.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">pl</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../API/plot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Plot</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">CLI</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../CLI/load.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">load</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../CLI/shp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">shp</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../CLI/co.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">co</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">utils</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../CLI/utils/logging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">logging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../CLI/utils/dask.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dask</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Tutorials</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Tutorials/adaptive_multilook.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Adaptive Multilook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Tutorials/ds_processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DS Processing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Tutorials/work_with_dask.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Work With Dask</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Tutorials/ds_processing_with_cli.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">DS processing with CLI</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#load-gamma-result" id="toc-load-gamma-result" class="nav-link active" data-scroll-target="#load-gamma-result">Load GAMMA result</a></li>
  <li><a href="#ds-candidates-selection" id="toc-ds-candidates-selection" class="nav-link" data-scroll-target="#ds-candidates-selection">DS candidates selection</a></li>
  <li><a href="#coherence-matrix-estimation" id="toc-coherence-matrix-estimation" class="nav-link" data-scroll-target="#coherence-matrix-estimation">Coherence matrix estimation</a></li>
  <li><a href="#phase-linking" id="toc-phase-linking" class="nav-link" data-scroll-target="#phase-linking">Phase linking</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/kanglcn/decorrelation/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DS processing with CLI</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->
<p>In this tutorial, we demostrate how to do standard DS processing with the decorrelation CLI interface.</p>
<section id="load-gamma-result" class="level2">
<h2 class="anchored" data-anchor-id="load-gamma-result">Load GAMMA result</h2>
<p>The data from gamma software needed for this tutorial:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>ls <span class="op">-</span>R ..<span class="op">/</span>..<span class="op">/</span>data<span class="op">/</span>gamma<span class="op">/</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/bin/zsh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by /bin/zsh)
../../data/gamma/:
DEM  geocoding  rslc

../../data/gamma/DEM:
dem_seg  dem_seg_par

../../data/gamma/geocoding:
20210802.ccp          20210802.look_angle      20210802.pix_gamma0_filled
20210802.coffs        20210802.ls_map          20210802.pix_gamma0_filled.bmp
20210802.coffsets     20210802.ls_map_rdc      20210802.pix_sigma0
20210802.diff_par     20210802.ls_map_rdc.bmp  20210802.psi
20210802.geo.mli      20210802.lt          20210802.rdc2geo
20210802.geo.mli.bmp  20210802.lt_fine         20210802.rdc2geo_lat
20210802.geo.mli.kml  20210802.offnadir        20210802.rdc2geo_lon
20210802.geo.mli.png  20210802.offs        20210802.res
20210802.geo.mli.tif  20210802.offsets         20210802.sim_sar
20210802.hgt          20210802.pix         20210802.u
20210802.hgt.bmp      20210802.pix_gamma0      20210802.v
20210802.inc          20210802.pix_gamma0.bmp

../../data/gamma/rslc:
20210802.rslc      20211011.rslc.par  20220718.rslc  20220912.rslc.par
20210802.rslc.par  20211025.rslc      20220718.rslc.par  20220926.rslc
20210816.rslc      20211025.rslc.par  20220801.rslc  20220926.rslc.par
20210816.rslc.par  20220606.rslc      20220801.rslc.par  20221010.rslc
20210830.rslc      20220606.rslc.par  20220815.rslc  20221010.rslc.par
20210830.rslc.par  20220620.rslc      20220815.rslc.par  20221024.rslc
20210913.rslc      20220620.rslc.par  20220829.rslc  20221024.rslc.par
20210913.rslc.par  20220704.rslc      20220829.rslc.par
20211011.rslc      20220704.rslc.par  20220912.rslc</code></pre>
</div>
</div>
<p>And we load them with functions in the <code>load</code> module:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> decorrelation.cli.load <span class="im">import</span> (de_load_gamma_flatten_rslc,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                                    de_load_gamma_lat_lon,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                                    de_load_gamma_hgt,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>                                    de_load_gamma_incidence_angle,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                                    de_load_gamma_range,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>                                    de_load_gamma_metadata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The detailed usage of these functions is explained <a href="../CLI/load.html">here</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>rslc_dir <span class="op">=</span> <span class="st">'../../data/gamma/rslc'</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>reference <span class="op">=</span> <span class="st">'20220620'</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>rslc_par <span class="op">=</span> <span class="st">'../../data/gamma/rslc/20220620.rslc.par'</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>hgt <span class="op">=</span> <span class="st">'../../data/gamma/geocoding/20210802.hgt'</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>lt <span class="op">=</span> <span class="st">'../../data/gamma/geocoding/20210802.lt_fine'</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>dem_par <span class="op">=</span> <span class="st">'../../data/gamma/DEM/dem_seg_par'</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>inc <span class="op">=</span> <span class="st">'../../data/gamma/geocoding/20210802.inc'</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>az_chunk_size <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>rslc_zarr <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/rslc.zarr'</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>lat_zarr <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/lat.zarr'</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>lon_zarr <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/lon.zarr'</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>inc_zarr <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/inc.zarr'</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>hgt_zarr <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/hgt.zarr'</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>range_zarr <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/range.zarr'</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>meta_file <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/meta.toml'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>de_load_gamma_flatten_rslc(rslc_dir,reference,hgt,rslc_zarr,az_chunk_size)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>de_load_gamma_lat_lon(lt,rslc_par,dem_par,lat_zarr,lon_zarr,az_chunk_size)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>de_load_gamma_incidence_angle(inc,lt,rslc_par,dem_par,inc_zarr,az_chunk_size)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>de_load_gamma_hgt(hgt,rslc_par,hgt_zarr,az_chunk_size)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>de_load_gamma_range(rslc_par,range_zarr,az_chunk_size)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>de_load_gamma_metadata(rslc_dir,reference,meta_file)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - fetching args:
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - rslc_dir = '../../data/gamma/rslc'
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - reference = '20220620'
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - hgt = '../../data/gamma/geocoding/20210802.hgt'
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - rslc_zarr = './DS_Processing_with_CLI/rslc.zarr'
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - az_chunk_size = 1000
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - log = None
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - fetching args done.
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - rslc found: 
        date                                 rslc  \
0   20210802  ../../data/gamma/rslc/20210802.rslc   
1   20210816  ../../data/gamma/rslc/20210816.rslc   
2   20210830  ../../data/gamma/rslc/20210830.rslc   
3   20210913  ../../data/gamma/rslc/20210913.rslc   
4   20211011  ../../data/gamma/rslc/20211011.rslc   
5   20211025  ../../data/gamma/rslc/20211025.rslc   
6   20220606  ../../data/gamma/rslc/20220606.rslc   
7   20220620  ../../data/gamma/rslc/20220620.rslc   
8   20220704  ../../data/gamma/rslc/20220704.rslc   
9   20220718  ../../data/gamma/rslc/20220718.rslc   
10  20220801  ../../data/gamma/rslc/20220801.rslc   
11  20220815  ../../data/gamma/rslc/20220815.rslc   
12  20220829  ../../data/gamma/rslc/20220829.rslc   
13  20220912  ../../data/gamma/rslc/20220912.rslc   
14  20220926  ../../data/gamma/rslc/20220926.rslc   
15  20221010  ../../data/gamma/rslc/20221010.rslc   
16  20221024  ../../data/gamma/rslc/20221024.rslc   

                                        par  
0   ../../data/gamma/rslc/20210802.rslc.par  
1   ../../data/gamma/rslc/20210816.rslc.par  
2   ../../data/gamma/rslc/20210830.rslc.par  
3   ../../data/gamma/rslc/20210913.rslc.par  
4   ../../data/gamma/rslc/20211011.rslc.par  
5   ../../data/gamma/rslc/20211025.rslc.par  
6   ../../data/gamma/rslc/20220606.rslc.par  
7   ../../data/gamma/rslc/20220620.rslc.par  
8   ../../data/gamma/rslc/20220704.rslc.par  
9   ../../data/gamma/rslc/20220718.rslc.par  
10  ../../data/gamma/rslc/20220801.rslc.par  
11  ../../data/gamma/rslc/20220815.rslc.par  
12  ../../data/gamma/rslc/20220829.rslc.par  
13  ../../data/gamma/rslc/20220912.rslc.par  
14  ../../data/gamma/rslc/20220926.rslc.par  
15  ../../data/gamma/rslc/20221010.rslc.par  
16  ../../data/gamma/rslc/20221024.rslc.par  
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - number of images: 17.
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - image number of lines: 2500.
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - image width: 1834.
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - run gamma command to generate flatten rslcs:
2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20210802.rslc.par /tmp/tmp2dh4b78j/20220620_20210802.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2388461220-210802
SLC-2 Doppler centroid at center swath (Hz):    -38.041
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.291267
SLC-2 azimuth sample spacing (m):      3.740103

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20210802.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:20 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20210802.rslc.par /tmp/tmp2dh4b78j/20220620_20210802.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20210802.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20210802.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20210802.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20210802.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 3367.4809
phase constant to subtract (radians): 3367.7873  multiples of 2PI: 536

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20210802.sim_orb
width: 1834 lines: 2500

user time (s):        35.700
system time (s):       0.660
elapsed time (s):      1.170

2023-09-15 18:05:21 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20210816.rslc.par /tmp/tmp2dh4b78j/20220620_20210816.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2390531220-210816
SLC-2 Doppler centroid at center swath (Hz):    -37.485
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.290869
SLC-2 azimuth sample spacing (m):      3.740120

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20210816.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:21 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20210816.rslc.par /tmp/tmp2dh4b78j/20220620_20210816.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20210816.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20210816.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20210816.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20210816.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 2666.7711
phase constant to subtract (radians): 2664.0706  multiples of 2PI: 424

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20210816.sim_orb
width: 1834 lines: 2500

user time (s):        29.990
system time (s):       0.470
elapsed time (s):      0.900

2023-09-15 18:05:22 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20210830.rslc.par /tmp/tmp2dh4b78j/20220620_20210830.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2392601220-210830
SLC-2 Doppler centroid at center swath (Hz):    -37.635
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.290397
SLC-2 azimuth sample spacing (m):      3.740123

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20210830.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:22 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20210830.rslc.par /tmp/tmp2dh4b78j/20220620_20210830.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20210830.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20210830.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20210830.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20210830.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 2131.2416
phase constant to subtract (radians): 2129.9998  multiples of 2PI: 339

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20210830.sim_orb
width: 1834 lines: 2500

user time (s):        32.700
system time (s):       0.470
elapsed time (s):      1.040

2023-09-15 18:05:24 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20210913.rslc.par /tmp/tmp2dh4b78j/20220620_20210913.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2394671220-210913
SLC-2 Doppler centroid at center swath (Hz):    -43.220
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.290734
SLC-2 azimuth sample spacing (m):      3.740118

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20210913.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.010

2023-09-15 18:05:24 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20210913.rslc.par /tmp/tmp2dh4b78j/20220620_20210913.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20210913.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20210913.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20210913.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20210913.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 3805.2857
phase constant to subtract (radians): 3807.6103  multiples of 2PI: 606

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20210913.sim_orb
width: 1834 lines: 2500

user time (s):        36.970
system time (s):       0.880
elapsed time (s):      1.200

2023-09-15 18:05:25 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20211011.rslc.par /tmp/tmp2dh4b78j/20220620_20211011.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2398811220-211011
SLC-2 Doppler centroid at center swath (Hz):    -44.733
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.291034
SLC-2 azimuth sample spacing (m):      3.739900

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20211011.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:25 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20211011.rslc.par /tmp/tmp2dh4b78j/20220620_20211011.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20211011.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20211011.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20211011.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20211011.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 6928.9838
phase constant to subtract (radians): 6930.3534  multiples of 2PI: 1103

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20211011.sim_orb
width: 1834 lines: 2500

user time (s):        31.070
system time (s):       0.410
elapsed time (s):      0.920

2023-09-15 18:05:26 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20211025.rslc.par /tmp/tmp2dh4b78j/20220620_20211025.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2400881220-211025
SLC-2 Doppler centroid at center swath (Hz):    -43.460
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.290950
SLC-2 azimuth sample spacing (m):      3.740058

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20211025.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:26 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20211025.rslc.par /tmp/tmp2dh4b78j/20220620_20211025.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20211025.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20211025.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20211025.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20211025.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 7773.4124
phase constant to subtract (radians): 7772.3002  multiples of 2PI: 1237

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20211025.sim_orb
width: 1834 lines: 2500

user time (s):        36.180
system time (s):       0.810
elapsed time (s):      1.250

2023-09-15 18:05:27 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220606.rslc.par /tmp/tmp2dh4b78j/20220620_20220606.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2434001220-220606
SLC-2 Doppler centroid at center swath (Hz):    -38.252
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.290037
SLC-2 azimuth sample spacing (m):      3.740175

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20220606.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:27 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220606.rslc.par /tmp/tmp2dh4b78j/20220620_20220606.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20220606.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20220606.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20220606.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20220606.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): -3893.9839
phase constant to subtract (radians): -3895.5749  multiples of 2PI: -620

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20220606.sim_orb
width: 1834 lines: 2500

user time (s):        33.740
system time (s):       0.650
elapsed time (s):      1.060

2023-09-15 18:05:29 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220620.rslc.par /tmp/tmp2dh4b78j/20220620_20220620.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2436071220-220620
SLC-2 Doppler centroid at center swath (Hz):    -52.731
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.290540
SLC-2 azimuth sample spacing (m):      3.740105

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20220620.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:29 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220620.rslc.par /tmp/tmp2dh4b78j/20220620_20220620.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20220620.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20220620.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20220620.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20220620.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 0.0000
phase constant to subtract (radians): 0.0000  multiples of 2PI: 0

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20220620.sim_orb
width: 1834 lines: 2500

user time (s):        32.950
system time (s):       0.620
elapsed time (s):      1.010

2023-09-15 18:05:30 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220704.rslc.par /tmp/tmp2dh4b78j/20220620_20220704.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2438141220-220704
SLC-2 Doppler centroid at center swath (Hz):    -46.909
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.290622
SLC-2 azimuth sample spacing (m):      3.740241

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20220704.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.010

2023-09-15 18:05:30 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220704.rslc.par /tmp/tmp2dh4b78j/20220620_20220704.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20220704.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20220704.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20220704.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20220704.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 1628.8316
phase constant to subtract (radians): 1627.3450  multiples of 2PI: 259

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20220704.sim_orb
width: 1834 lines: 2500

user time (s):        36.370
system time (s):       0.810
elapsed time (s):      1.180

2023-09-15 18:05:31 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220718.rslc.par /tmp/tmp2dh4b78j/20220620_20220718.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2440211220-220718
SLC-2 Doppler centroid at center swath (Hz):    -48.758
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.290651
SLC-2 azimuth sample spacing (m):      3.740093

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20220718.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:31 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220718.rslc.par /tmp/tmp2dh4b78j/20220620_20220718.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20220718.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20220718.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20220718.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20220718.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 1984.4977
phase constant to subtract (radians): 1985.4866  multiples of 2PI: 316

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20220718.sim_orb
width: 1834 lines: 2500

user time (s):        29.620
system time (s):       0.330
elapsed time (s):      0.880

2023-09-15 18:05:32 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220801.rslc.par /tmp/tmp2dh4b78j/20220620_20220801.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2442281220-220801
SLC-2 Doppler centroid at center swath (Hz):    -38.855
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.291381
SLC-2 azimuth sample spacing (m):      3.740108

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20220801.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:32 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220801.rslc.par /tmp/tmp2dh4b78j/20220620_20220801.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20220801.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20220801.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20220801.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20220801.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 4081.0000
phase constant to subtract (radians): 4084.0704  multiples of 2PI: 650

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20220801.sim_orb
width: 1834 lines: 2500

user time (s):        34.380
system time (s):       0.590
elapsed time (s):      1.100

2023-09-15 18:05:33 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220815.rslc.par /tmp/tmp2dh4b78j/20220620_20220815.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2444351220-220815
SLC-2 Doppler centroid at center swath (Hz):    -39.052
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.291183
SLC-2 azimuth sample spacing (m):      3.740165

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20220815.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:33 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220815.rslc.par /tmp/tmp2dh4b78j/20220620_20220815.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20220815.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20220815.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20220815.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20220815.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 3098.9270
phase constant to subtract (radians): 3097.6104  multiples of 2PI: 493

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20220815.sim_orb
width: 1834 lines: 2500

user time (s):        33.540
system time (s):       0.500
elapsed time (s):      1.010

2023-09-15 18:05:34 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220829.rslc.par /tmp/tmp2dh4b78j/20220620_20220829.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2446421220-220829
SLC-2 Doppler centroid at center swath (Hz):    -45.505
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.291518
SLC-2 azimuth sample spacing (m):      3.740252

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20220829.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:34 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220829.rslc.par /tmp/tmp2dh4b78j/20220620_20220829.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20220829.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20220829.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20220829.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20220829.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 8300.7222
phase constant to subtract (radians): 8300.0878  multiples of 2PI: 1321

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20220829.sim_orb
width: 1834 lines: 2500

user time (s):        36.570
system time (s):       1.000
elapsed time (s):      1.230

2023-09-15 18:05:36 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220912.rslc.par /tmp/tmp2dh4b78j/20220620_20220912.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2448491220-220912
SLC-2 Doppler centroid at center swath (Hz):    -39.094
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.291491
SLC-2 azimuth sample spacing (m):      3.740174

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20220912.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:36 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220912.rslc.par /tmp/tmp2dh4b78j/20220620_20220912.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20220912.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20220912.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20220912.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20220912.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 6411.0834
phase constant to subtract (radians): 6408.8490  multiples of 2PI: 1020

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20220912.sim_orb
width: 1834 lines: 2500

user time (s):        39.240
system time (s):       0.850
elapsed time (s):      1.370

2023-09-15 18:05:37 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220926.rslc.par /tmp/tmp2dh4b78j/20220620_20220926.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2450561220-220926
SLC-2 Doppler centroid at center swath (Hz):    -46.120
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.291902
SLC-2 azimuth sample spacing (m):      3.740101

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20220926.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:37 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20220926.rslc.par /tmp/tmp2dh4b78j/20220620_20220926.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20220926.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20220926.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20220926.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20220926.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 10734.7760
phase constant to subtract (radians): 10731.6805  multiples of 2PI: 1708

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20220926.sim_orb
width: 1834 lines: 2500

user time (s):        33.270
system time (s):       0.600
elapsed time (s):      1.070

2023-09-15 18:05:38 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20221010.rslc.par /tmp/tmp2dh4b78j/20220620_20221010.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2452631220-221010
SLC-2 Doppler centroid at center swath (Hz):    -38.809
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.291497
SLC-2 azimuth sample spacing (m):      3.740135

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20221010.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:38 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20221010.rslc.par /tmp/tmp2dh4b78j/20220620_20221010.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20221010.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20221010.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20221010.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20221010.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 11391.7667
phase constant to subtract (radians): 11391.4150  multiples of 2PI: 1813

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20221010.sim_orb
width: 1834 lines: 2500

user time (s):        33.550
system time (s):       0.650
elapsed time (s):      1.080

2023-09-15 18:05:39 - de_load_gamma_flatten_rslc - INFO - run command: create_offset ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20221024.rslc.par /tmp/tmp2dh4b78j/20220620_20221024.off 1 1 1 0
*** Create and update ISP offset and interferogram parameter files ***
*** Copyright 2020 Gamma Remote Sensing v5.5 clw/uw/cm 21-Sep-2020 ***
SLC-1 title: ALOS2436071220-220620
SLC-1 Doppler centroid at center swath (Hz):    -52.731
SLC-1 number of range samples:             1834
SLC-1 number of image lines:               2500
SLC-1 slant range pixel spacing (m):   4.290540
SLC-1 azimuth sample spacing (m):      3.740105

SLC-2 title: ALOS2454701220-221024
SLC-2 Doppler centroid at center swath (Hz):    -39.391
SLC-2 number of range samples:             1834
SLC-2 number of lines:                     2500
SLC-2 slant range pixel spacing (m):   4.291917
SLC-2 azimuth sample spacing (m):      3.740130

OFFSET ALGORITHM: intensity cross-correlation
number of offset locations range: 32  azimuth: 64
patch size range: 64  azimuth: 64
offset correlation threshold: 0.100

Interferogram Parameters
************************
range looks:      1
azimuth looks:    1
range width pixels:   1834
azimuth lines:        2500
range pixel spacing (m):   4.29054
azimuth line spacing (m):  3.74010

output OFF_par file: /tmp/tmp2dh4b78j/20220620_20221024.off

user time (s):         0.000
system time (s):       0.000
elapsed time (s):      0.000

2023-09-15 18:05:39 - de_load_gamma_flatten_rslc - INFO - run command: phase_sim_orb ../../data/gamma/rslc/20220620.rslc.par ../../data/gamma/rslc/20221024.rslc.par /tmp/tmp2dh4b78j/20220620_20221024.off /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt /tmp/tmp2dh4b78j/20220620_20221024.sim_orb ../../data/gamma/rslc/20220620.rslc.par - - 1 1
*** Simulate unwrapped interferometric phase using DEM height and deformation rate using orbit state vectors ***
*** Copyright 2022, Gamma Remote Sensing, v2.9, 4-May-2022 clw/cm ***
OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

SLC-1 image parameter file:  ../../data/gamma/rslc/20220620.rslc.par
SLC-2R image parameter file: ../../data/gamma/rslc/20221024.rslc.par
int_mode = 1: repeat-pass interferometric mode (default)

ISP interferogram/offset parameter file: /tmp/tmp2dh4b78j/20220620_20221024.off
height map file: /work/users/kangl/decorrelation/nbs/Tutorials/../../data/gamma/geocoding/20210802.hgt
output simulated interferometric phase: /tmp/tmp2dh4b78j/20220620_20221024.sim_orb
geometric reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
NOTE: no deformation rate file entered: deformation rate set to 0.0

interferogram lines: 2500   range samples: 1834
SLC-1 wavevector (rad/m):      -51.830239
SLC-2 wavevector (rad/m):      -51.830239
interf. slant range pixel (m):   4.290540
interf. azimuth pixel (m):       3.740105
SLC slant range pixel (m):       4.290540
SLC azimuth pixel (m):           3.740105
effective PRF (Hz):              1826.400
Doppler centroid (Hz):            -52.731
SLC data are deskewed: zero Doppler is used for baseline estimation
SAR antenna azimuth angle (deg.):   90.00 (right looking)
NOTE: using geometric reference SLC parameters: ../../data/gamma/rslc/20220620.rslc.par

ph_mode 1: subtracting a multiple of 2PI from the absolute phase -2k(R1 - R2)
simulated phase at image center (radians): 11118.2709
phase constant to subtract (radians): 11121.2380  multiples of 2PI: 1770

output line:      0  SLC-1 azimuth line: 0.5
output line:   1000  SLC-1 azimuth line: 1000.5
output line:   2000  SLC-1 azimuth line: 2000.5

simulated unwrapped phase: /tmp/tmp2dh4b78j/20220620_20221024.sim_orb
width: 1834 lines: 2500

user time (s):        35.740
system time (s):       0.810
elapsed time (s):      1.180

2023-09-15 18:05:40 - de_load_gamma_flatten_rslc - INFO - flatten rslcs generated.
2023-09-15 18:05:40 - de_load_gamma_flatten_rslc - INFO - using dask to load the flatten rslcs from gamma binary format to zarr.
2023-09-15 18:05:40 - de_load_gamma_flatten_rslc - INFO - starting dask local cluster.
2023-09-15 18:05:43 - de_load_gamma_flatten_rslc - INFO - dask local cluster started.
2023-09-15 18:05:43 - de_load_gamma_flatten_rslc - INFO - flattened rslcs shape: (2500, 1834, 17)
2023-09-15 18:05:43 - de_load_gamma_flatten_rslc - INFO - flattened rslcs chunks: ((1000, 1000, 500), (1834,), (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1))
2023-09-15 18:05:43 - de_load_gamma_flatten_rslc - INFO - computing graph setted. doing all the computing.
2023-09-15 18:05:44 - de_load_gamma_flatten_rslc - INFO - computing finished.
2023-09-15 18:05:45 - de_load_gamma_flatten_rslc - INFO - dask cluster closed.
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - fetching args:
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - lt = '../../data/gamma/geocoding/20210802.lt_fine'
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - rslc_par = '../../data/gamma/rslc/20220620.rslc.par'
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - dem_par = '../../data/gamma/DEM/dem_seg_par'
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - lat_zarr = './DS_Processing_with_CLI/lat.zarr'
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - lon_zarr = './DS_Processing_with_CLI/lon.zarr'
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - az_chunk_size = 1000
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - log = None
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - fetching args done.
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - image shape: (2500,1834)
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - run gamma command to generate longitude and latitude:
2023-09-15 18:05:45 - de_load_gamma_lat_lon - INFO - run command: gc_map_inversion ../../data/gamma/geocoding/20210802.lt_fine 5741 /tmp/tmpwxmy_bk4/rdc2geo 1834 2500 2 2 16 16
*** Invert geocoding lookup table ***
*** Copyright 2019, Gamma Remote Sensing, v3.4 23-May-2019 uw/clw/cm ***

OPENMP: number of physical processors:                     128
OPENMP: default max. number of threads (program specific): 8
OPENMP: current max. number of available threads:          36
OPENMP: number of program threads: 36

interpolation algorithm: convolution with (1/r)**2 weighting
interpolation oversampling factor: 2
interpolation search radius: 16
number of points used for interpolation: 16
number of entries in the interpolation search table: 812

input data width, nlines:       5741    3223
output data width, nlines:      1834    2500
interpolation arrays width: 3698  lines: 4536
number of output lines/block: 2253
number of output blocks: 2

output block:    1   starting line:      0
input data line:      0input data line:   2000
resampling lookup table
output line:   2000

output block:    2   starting line:   2253
input data line:   2000
resampling lookup table
output line:      0

resampled output data file: /tmp/tmpwxmy_bk4/rdc2geo

user time (s):        41.590
system time (s):       1.800
elapsed time (s):      1.550

2023-09-15 18:05:46 - de_load_gamma_lat_lon - INFO - writing data.
2023-09-15 18:05:46 - de_load_gamma_lat_lon - INFO - Done.
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - fetching args:
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - inc = '../../data/gamma/geocoding/20210802.inc'
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - lt = '../../data/gamma/geocoding/20210802.lt_fine'
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - rslc_par = '../../data/gamma/rslc/20220620.rslc.par'
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - dem_par = '../../data/gamma/DEM/dem_seg_par'
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - inc_zarr = './DS_Processing_with_CLI/inc.zarr'
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - az_chunk_size = 1000
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - log = None
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - fetching args done.
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - image shape: (2500,1834)
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - run gamma command to generate inc angle in range doppler coordinate:
2023-09-15 18:05:46 - de_load_gamma_incidence_angle - INFO - run command: geocode ../../data/gamma/geocoding/20210802.lt_fine ../../data/gamma/geocoding/20210802.inc 5741 /tmp/tmpohnxcad4/inc_rdc 1834 2500
*** Forward geocoding transformation using a lookup table ***
*** Copyright 2019, Gamma Remote Sensing, v4.3 12-Mar-2019 uw/clw/of/cm ***
data format: float
interpolation: convolution with 1/r weighting
interpolation oversampling factor: 2
interpolation search radius: 8
number of points used for interpolation: 4
number of entries in the interpolation search table: 208

input data width, nlines:     5741    3223
output data width, nlines:    1834    2500
interpolation arrays width: 3682  lines: 36452
number of output lines/block: 18219
number of output blocks: 1
output block:  1   starting line:      0

output data file: /tmp/tmpohnxcad4/inc_rdc
output file width: 1834   lines: 2500

user time (s):         0.820
system time (s):       0.440
elapsed time (s):      1.260

2023-09-15 18:05:48 - de_load_gamma_incidence_angle - INFO - writing data.
2023-09-15 18:05:48 - de_load_gamma_incidence_angle - INFO - Done.
2023-09-15 18:05:48 - de_load_gamma_hgt - INFO - fetching args:
2023-09-15 18:05:48 - de_load_gamma_hgt - INFO - hgt = '../../data/gamma/geocoding/20210802.hgt'
2023-09-15 18:05:48 - de_load_gamma_hgt - INFO - rslc_par = '../../data/gamma/rslc/20220620.rslc.par'
2023-09-15 18:05:48 - de_load_gamma_hgt - INFO - hgt_zarr = './DS_Processing_with_CLI/hgt.zarr'
2023-09-15 18:05:48 - de_load_gamma_hgt - INFO - az_chunk_size = 1000
2023-09-15 18:05:48 - de_load_gamma_hgt - INFO - log = None
2023-09-15 18:05:48 - de_load_gamma_hgt - INFO - fetching args done.
2023-09-15 18:05:48 - de_load_gamma_hgt - INFO - image shape: (2500,1834)
2023-09-15 18:05:48 - de_load_gamma_hgt - INFO - writing data.
2023-09-15 18:05:48 - de_load_gamma_hgt - INFO - Done.
2023-09-15 18:05:48 - de_load_gamma_range - INFO - fetching args:
2023-09-15 18:05:48 - de_load_gamma_range - INFO - rslc_par = '../../data/gamma/rslc/20220620.rslc.par'
2023-09-15 18:05:48 - de_load_gamma_range - INFO - range_zarr = './DS_Processing_with_CLI/range.zarr'
2023-09-15 18:05:48 - de_load_gamma_range - INFO - az_chunk_size = 1000
2023-09-15 18:05:48 - de_load_gamma_range - INFO - log = None
2023-09-15 18:05:48 - de_load_gamma_range - INFO - fetching args done.
2023-09-15 18:05:48 - de_load_gamma_range - INFO - image shape: (2500,1834)
2023-09-15 18:05:48 - de_load_gamma_range - INFO - writing data.
2023-09-15 18:05:48 - de_load_gamma_range - INFO - Done.
2023-09-15 18:05:48 - de_load_gamma_metadata - INFO - fetching args:
2023-09-15 18:05:48 - de_load_gamma_metadata - INFO - rslc_dir = '../../data/gamma/rslc'
2023-09-15 18:05:48 - de_load_gamma_metadata - INFO - reference = '20220620'
2023-09-15 18:05:48 - de_load_gamma_metadata - INFO - meta_file = './DS_Processing_with_CLI/meta.toml'
2023-09-15 18:05:48 - de_load_gamma_metadata - INFO - log = None
2023-09-15 18:05:48 - de_load_gamma_metadata - INFO - fetching args done.
/work/users/jinwook/sw/GAMMA_20221129/scripts/base_calc processing started: Fri Sep 15 18:05:48 2023 
SLC_tab table SLC images and parameter files: /tmp/tmp5ua8v033/slc_tab
reference SLC parameter file: ../../data/gamma/rslc/20220620.rslc.par
bperp textfile:    /tmp/tmp5ua8v033/bperp
output ITAB file:  /tmp/tmp5ua8v033/itab
reference frame date: 2022 6 20
reference sensor: PALSAR2

reference SLC start time (s): 33882.90750
reference SLC MJD: 2459751.39216
  1  ref.: 20220620  20210802  Bperp:  -97.6136  delta_T:  -322.00001
  2  ref.: 20220620  20210816  Bperp:  -45.5858  delta_T:  -308.00001
  3  ref.: 20220620  20210830  Bperp:   17.8668  delta_T:  -294.00001
  4  ref.: 20220620  20210913  Bperp:  -26.2589  delta_T:  -280.00001
  5  ref.: 20220620  20211011  Bperp:  -63.7242  delta_T:  -252.00001
  6  ref.: 20220620  20211025  Bperp:  -56.3634  delta_T:  -238.00001
  7  ref.: 20220620  20220606  Bperp:   64.7576  delta_T:   -14.00000
  8  ref.: 20220620  20220620  Bperp:    0.0000  delta_T:     0.00000
  9  ref.: 20220620  20220704  Bperp:   -9.0440  delta_T:    14.00000
 10  ref.: 20220620  20220718  Bperp:  -13.0287  delta_T:    28.00000
 11  ref.: 20220620  20220801  Bperp: -112.9496  delta_T:    42.00000
 12  ref.: 20220620  20220815  Bperp:  -86.0949  delta_T:    56.00000
 13  ref.: 20220620  20220829  Bperp: -129.9635  delta_T:    70.00001
 14  ref.: 20220620  20220912  Bperp: -127.6594  delta_T:    84.00000
 15  ref.: 20220620  20220926  Bperp: -182.2952  delta_T:    98.00001
 16  ref.: 20220620  20221010  Bperp: -129.7351  delta_T:   112.00000
 17  ref.: 20220620  20221024  Bperp: -184.3110  delta_T:   126.00000

number of SLC images: 17
starting date: 20210802  ending date: 20221024
plot starting julian day: 2459393.16
plot ending julian day:   2459912.84
starting plot date: 20210627  ending plot date: 20221128
reference orbit number: 8
   1  ref: 20220620 20210802  Bperp:  -97.6136  delta_T:-322.00001  MJD1:     0.0000  MJD2:  -322.0000  Bperp1:  -97.6136  Bperp2:  -97.6136
   2  ref: 20220620 20210816  Bperp:  -45.5858  delta_T:-308.00001  MJD1:     0.0000  MJD2:  -308.0000  Bperp1:  -97.6136  Bperp2:  -45.5858
   3  ref: 20220620 20210830  Bperp:   17.8668  delta_T:-294.00001  MJD1:     0.0000  MJD2:  -294.0000  Bperp1:  -97.6136  Bperp2:   17.8668
   4  ref: 20220620 20210913  Bperp:  -26.2589  delta_T:-280.00001  MJD1:     0.0000  MJD2:  -280.0000  Bperp1:  -97.6136  Bperp2:  -26.2589
   5  ref: 20220620 20211011  Bperp:  -63.7242  delta_T:-252.00001  MJD1:     0.0000  MJD2:  -252.0000  Bperp1:  -97.6136  Bperp2:  -63.7242
   6  ref: 20220620 20211025  Bperp:  -56.3634  delta_T:-238.00001  MJD1:     0.0000  MJD2:  -238.0000  Bperp1:  -97.6136  Bperp2:  -56.3634
   7  ref: 20220620 20220606  Bperp:   64.7576  delta_T: -14.00000  MJD1:     0.0000  MJD2:   -14.0000  Bperp1:  -97.6136  Bperp2:   64.7576
   8  ref: 20220620 20220620  Bperp:    0.0000  delta_T:   0.00000  MJD1:     0.0000  MJD2:     0.0000  Bperp1:  -97.6136  Bperp2:    0.0000
   9  ref: 20220620 20220704  Bperp:   -9.0440  delta_T:  14.00000  MJD1:     0.0000  MJD2:    14.0000  Bperp1:  -97.6136  Bperp2:   -9.0440
  10  ref: 20220620 20220718  Bperp:  -13.0287  delta_T:  28.00000  MJD1:     0.0000  MJD2:    28.0000  Bperp1:  -97.6136  Bperp2:  -13.0287
  11  ref: 20220620 20220801  Bperp: -112.9496  delta_T:  42.00000  MJD1:     0.0000  MJD2:    42.0000  Bperp1:  -97.6136  Bperp2: -112.9496
  12  ref: 20220620 20220815  Bperp:  -86.0949  delta_T:  56.00000  MJD1:     0.0000  MJD2:    56.0000  Bperp1:  -97.6136  Bperp2:  -86.0949
  13  ref: 20220620 20220829  Bperp: -129.9635  delta_T:  70.00001  MJD1:     0.0000  MJD2:    70.0000  Bperp1:  -97.6136  Bperp2: -129.9635
  14  ref: 20220620 20220912  Bperp: -127.6594  delta_T:  84.00000  MJD1:     0.0000  MJD2:    84.0000  Bperp1:  -97.6136  Bperp2: -127.6594
  15  ref: 20220620 20220926  Bperp: -182.2952  delta_T:  98.00001  MJD1:     0.0000  MJD2:    98.0000  Bperp1:  -97.6136  Bperp2: -182.2952
  16  ref: 20220620 20221010  Bperp: -129.7351  delta_T: 112.00000  MJD1:     0.0000  MJD2:   112.0000  Bperp1:  -97.6136  Bperp2: -129.7351
  17  ref: 20220620 20221024  Bperp: -184.3110  delta_T: 126.00000  MJD1:     0.0000  MJD2:   126.0000  Bperp1:  -97.6136  Bperp2: -184.3110

number of baselines in the ITAB with length &gt; 0: 16
average bperp magnitude (m):   84.203 
average bperp (m):  -73.875 

number of SLC pairs that meet the bperp_max and delta_T_max criteria: 17
output bperp_file: /tmp/tmp5ua8v033/bperp

/work/users/jinwook/sw/GAMMA_20221129/scripts/base_calc processing completed: Fri Sep 15 18:05:48 2023 
2023-09-15 18:05:48 - de_load_gamma_metadata - INFO - All meta data: 
dates = [ "20210802", "20210816", "20210830", "20210913", "20211011", "20211025", "20220606", "20220620", "20220704", "20220718", "20220801", "20220815", "20220829", "20220912", "20220926", "20221010", "20221024",]
radar_wavelength = 0.24245249210715603
heading = -17.8792397
range_pixel_spacing = 4.29054
azimuth_pixel_spacing = 3.740105
perpendicular_baseline = [ -97.61360168457031, -45.58580017089844, 17.86680030822754, -26.258899688720703, -63.72420120239258, -56.363399505615234, 64.75759887695312, 0.0, -9.043999671936035, -13.02869987487793, -112.94960021972656, -86.09490203857422, -129.9635009765625, -127.6594009399414, -182.29519653320312, -129.735107421875, -184.31100463867188,]

2023-09-15 18:05:48 - de_load_gamma_metadata - INFO - writing data in toml file.
2023-09-15 18:05:48 - de_load_gamma_metadata - INFO - Done.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)
sh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by sh)</code></pre>
</div>
</div>
<p>Then we get all needed data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>ls .<span class="op">/</span>DS_Processing_with_CLI<span class="op">/</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/bin/zsh: /users/kangl/miniconda3/lib/libtinfo.so.6: no version information available (required by /bin/zsh)
ds_can_coh_ave.png   hgt.zarr    lat.zarr     rslc.zarr
ds_can_coh.zarr      inc.zarr    lon.zarr     shp_num_fig.png
ds_can_emi_quality.zarr  is_ds_can.png   meta.toml
ds_can_ph.zarr       is_ds_can.zarr  pvalue.zarr
emi_quality.png      is_shp.zarr     range.zarr</code></pre>
</div>
</div>
<p>The DEM in radar coordinate, incidence angle, latitude, lontitude, metadata, slant range distance, and flattened rslc stack.</p>
</section>
<section id="ds-candidates-selection" class="level2">
<h2 class="anchored" data-anchor-id="ds-candidates-selection">DS candidates selection</h2>
<p>First, we select spatial homogenious pixels:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> decorrelation.cli.shp <span class="im">import</span> de_shp_test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>rslc <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/rslc.zarr'</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>pvalue <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/pvalue.zarr'</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>az_half_win <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>r_half_win <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>method <span class="op">=</span> <span class="st">'ks'</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>az_chunk_size <span class="op">=</span> <span class="dv">1000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>de_shp_test(rslc,pvalue,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>            az_half_win<span class="op">=</span>az_half_win,r_half_win<span class="op">=</span>r_half_win,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>            method<span class="op">=</span>method,az_chunk_size<span class="op">=</span>az_chunk_size)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2023-09-15 18:06:36 - de_shp_test - INFO - fetching args:
2023-09-15 18:06:36 - de_shp_test - INFO - rslc = './DS_Processing_with_CLI/rslc.zarr'
2023-09-15 18:06:36 - de_shp_test - INFO - pvalue = './DS_Processing_with_CLI/pvalue.zarr'
2023-09-15 18:06:36 - de_shp_test - INFO - az_half_win = 5
2023-09-15 18:06:36 - de_shp_test - INFO - r_half_win = 5
2023-09-15 18:06:36 - de_shp_test - INFO - method = 'ks'
2023-09-15 18:06:36 - de_shp_test - INFO - az_chunk_size = 1000
2023-09-15 18:06:36 - de_shp_test - INFO - log = None
2023-09-15 18:06:36 - de_shp_test - INFO - fetching args done.
2023-09-15 18:06:36 - de_shp_test - INFO - hypothetic test method: ks
2023-09-15 18:06:36 - de_shp_test - INFO - rslc dateset shape: (2500, 1834, 17)
2023-09-15 18:06:36 - de_shp_test - INFO - rslc dataset chunks: (1000, 1834, 1)
2023-09-15 18:06:36 - de_shp_test - INFO - parallel processing azimuth chunk size: 1000
2023-09-15 18:06:36 - de_shp_test - INFO - starting dask CUDA local cluster.
2023-09-15 18:06:44 - de_shp_test - INFO - dask local CUDA cluster started.
2023-09-15 18:06:44 - de_shp_test - INFO - rslc dask array shape: (2500, 1834, 17)
2023-09-15 18:06:44 - de_shp_test - INFO - rslc dask array chunks: ((1000, 1000, 500), (1834,), (17,))
2023-09-15 18:06:44 - de_shp_test - INFO - azimuth half window size: 5; azimuth window size: 11
2023-09-15 18:06:44 - de_shp_test - INFO - range half window size: 5; range window size: 11
2023-09-15 18:06:44 - de_shp_test - INFO - setting shared boundaries between rlsc chunks.
2023-09-15 18:06:44 - de_shp_test - INFO - rslc dask array with overlap shape: (2520, 1834, 17)
2023-09-15 18:06:44 - de_shp_test - INFO - rslc dask array with overlap chunks: ((1005, 1010, 505), (1834,), (17,))
2023-09-15 18:06:46 - de_shp_test - INFO - rmli dask array with overlap shape: (2520, 1834, 17)
2023-09-15 18:06:46 - de_shp_test - INFO - rmli dask array with overlap chunks: ((1005, 1010, 505), (1834,), (17,))
2023-09-15 18:06:47 - de_shp_test - INFO - applying test on sorted rmli stack.
2023-09-15 18:06:47 - de_shp_test - INFO - p value generated
2023-09-15 18:06:47 - de_shp_test - INFO - p value shape: (2520, 1834, 11, 11)
2023-09-15 18:06:47 - de_shp_test - INFO - p value chunks: ((1005, 1010, 505), (1834,), (11,), (11,))
2023-09-15 18:06:47 - de_shp_test - INFO - trim shared boundaries between p value chunks
2023-09-15 18:06:47 - de_shp_test - INFO - trimmed p value shape: (2500, 1834, 11, 11)
2023-09-15 18:06:47 - de_shp_test - INFO - trimmed p value chunks: ((1000, 1000, 500), (1834,), (11,), (11,))
2023-09-15 18:06:47 - de_shp_test - INFO - saving p value.
2023-09-15 18:06:47 - de_shp_test - INFO - computing graph setted. doing all the computing.
2023-09-15 18:06:51 - de_shp_test - INFO - computing finished.
2023-09-15 18:06:53 - de_shp_test - INFO - dask cluster closed.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>2023-09-15 18:06:38,669 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 18:06:38,669 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 18:06:38,669 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 18:06:38,669 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 18:06:38,675 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 18:06:38,675 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 18:06:38,676 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 18:06:38,676 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 18:06:38,676 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 18:06:38,676 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 18:06:38,677 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 18:06:38,677 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 18:06:38,684 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 18:06:38,684 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 18:06:38,694 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 18:06:38,694 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize</code></pre>
</div>
</div>
<p>Here we use two sample Kolmogorov-Smirnov (KS) test for SHP identification. The output <code>pvalue</code> is the P-value for this test. The smaller the p-value, the more likely the two sample are from same distribution, i.e., the more likely the two pixels are SHP to each other.</p>
<p>Then we select SHP by setting a threshold on this Pvalue, and select DS by seeting a threshold on the number of SHP pixels have. They are done with one single function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> decorrelation.cli.shp <span class="im">import</span> de_select_ds_can</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>is_shp <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/is_shp.zarr'</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>is_ds_can <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/is_ds_can.zarr'</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>shp_num_fig <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/shp_num_fig.png'</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>is_ds_can_fig <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/is_ds_can.png'</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>az_chunk_size <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>p_max <span class="op">=</span> <span class="fl">0.05</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>shp_num_min<span class="op">=</span><span class="dv">50</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>ds_can_chunk_size <span class="op">=</span> <span class="dv">100000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>de_select_ds_can(pvalue,is_shp,is_ds_can,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                 p_max<span class="op">=</span>p_max,az_chunk_size<span class="op">=</span>az_chunk_size,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                 shp_num_fig<span class="op">=</span>shp_num_fig,is_ds_can_fig<span class="op">=</span>is_ds_can_fig)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2023-09-15 18:11:07 - de_select_ds_can - INFO - fetching args:
2023-09-15 18:11:07 - de_select_ds_can - INFO - pvalue = './DS_Processing_with_CLI/pvalue.zarr'
2023-09-15 18:11:07 - de_select_ds_can - INFO - is_shp = './DS_Processing_with_CLI/is_shp.zarr'
2023-09-15 18:11:07 - de_select_ds_can - INFO - is_ds_can = './DS_Processing_with_CLI/is_ds_can.zarr'
2023-09-15 18:11:07 - de_select_ds_can - INFO - p_max = 0.05
2023-09-15 18:11:07 - de_select_ds_can - INFO - shp_num_min = 50
2023-09-15 18:11:07 - de_select_ds_can - INFO - az_chunk_size = 1000
2023-09-15 18:11:07 - de_select_ds_can - INFO - shp_num_fig = './DS_Processing_with_CLI/shp_num_fig.png'
2023-09-15 18:11:07 - de_select_ds_can - INFO - is_ds_can_fig = './DS_Processing_with_CLI/is_ds_can.png'
2023-09-15 18:11:07 - de_select_ds_can - INFO - log = None
2023-09-15 18:11:07 - de_select_ds_can - INFO - fetching args done.
2023-09-15 18:11:07 - de_select_ds_can - INFO - pvalue dateset shape: (2500, 1834, 11, 11)
2023-09-15 18:11:07 - de_select_ds_can - INFO - pvalue dataset chunks: (1000, 1834, 11, 11)
2023-09-15 18:11:07 - de_select_ds_can - INFO - parallel processing azimuth chunk size: 1000
2023-09-15 18:11:07 - de_select_ds_can - INFO - starting dask local cluster.
2023-09-15 18:11:09 - de_select_ds_can - INFO - dask local cluster started.
2023-09-15 18:11:09 - de_select_ds_can - INFO - pvalue dask array shape: (2500, 1834, 11, 11)
2023-09-15 18:11:09 - de_select_ds_can - INFO - pvalue dask array chunks: ((1000, 1000, 500), (1834,), (11,), (11,))
2023-09-15 18:11:09 - de_select_ds_can - INFO - selecting SHPs based on pvalue threshold: 0.05
2023-09-15 18:11:09 - de_select_ds_can - INFO - is_shp shape: (2500, 1834, 11, 11)
2023-09-15 18:11:09 - de_select_ds_can - INFO - is_shp chunks: ((1000, 1000, 500), (1834,), (11,), (11,))
2023-09-15 18:11:09 - de_select_ds_can - INFO - selecting DS candidates based on minimum of number of SHPs: 50
2023-09-15 18:11:09 - de_select_ds_can - INFO - is_ds_can shape: (2500, 1834)
2023-09-15 18:11:09 - de_select_ds_can - INFO - is_ds_can chunks: ((1000, 1000, 500), (1834,))
2023-09-15 18:11:09 - de_select_ds_can - INFO - saving is_shp.
2023-09-15 18:11:09 - de_select_ds_can - INFO - saving is_ds_can.
2023-09-15 18:11:09 - de_select_ds_can - INFO - computing graph setted. doing all the computing.
2023-09-15 18:11:13 - de_select_ds_can - INFO - computing finished.
2023-09-15 18:11:13 - de_select_ds_can - INFO - number of ds can in each chunk: (346329, 274921, 119147)
2023-09-15 18:11:13 - de_select_ds_can - INFO - dask cluster closed.
2023-09-15 18:11:13 - de_select_ds_can - INFO - plotting number of SHPs.
2023-09-15 18:11:13 - de_select_ds_can - INFO - plotting DS candidate distribution.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>2023-09-15 18:11:10,806 - distributed.worker.memory - WARNING - Unmanaged memory use is high. This may indicate a memory leak or the memory may not be released to the OS; see https://distributed.dask.org/en/latest/worker-memory.html#memory-not-released-back-to-the-os for more information. -- Unmanaged memory: 9.02 GiB -- Worker memory limit: 12.50 GiB
2023-09-15 18:11:11,012 - distributed.worker.memory - WARNING - Worker is at 82% memory usage. Pausing worker.  Process memory: 10.30 GiB -- Worker memory limit: 12.50 GiB
2023-09-15 18:11:11,552 - distributed.worker.memory - WARNING - Worker is at 69% memory usage. Resuming worker. Process memory: 8.63 GiB -- Worker memory limit: 12.50 GiB</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="DS_Processing_with_CLI_files/figure-html/cell-12-output-3.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="DS_Processing_with_CLI_files/figure-html/cell-12-output-4.png" class="img-fluid"></p>
</div>
</div>
<p>The output <code>is_shp</code> indicate wheather a pixel in the window is a SHP to its center pixel. <code>is_ds_can</code> is a Bool array with same size of one rslc. It indicate if one pixel is DS or not.</p>
</section>
<section id="coherence-matrix-estimation" class="level2">
<h2 class="anchored" data-anchor-id="coherence-matrix-estimation">Coherence matrix estimation</h2>
<p>Then we estimate the coherence matrix of ds candidate:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> decorrelation.cli.co <span class="im">import</span> de_emperical_co_sp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>ds_can_coh <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/ds_can_coh.zarr'</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>az_chunk_size <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>ds_can_coh_ave_fig <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/ds_can_coh_ave.png'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>de_emperical_co_sp(rslc,is_shp,is_ds_can,ds_can_coh,</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>                   az_chunk_size<span class="op">=</span>az_chunk_size,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>                   ds_can_coh_ave_fig<span class="op">=</span>ds_can_coh_ave_fig)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2023-09-15 17:55:28 - de_emperical_co_sp - INFO - fetching args:
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - rslc = './DS_Processing_with_CLI/rslc.zarr'
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - is_shp = './DS_Processing_with_CLI/is_shp.zarr'
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - is_ds_can = './DS_Processing_with_CLI/is_ds_can.zarr'
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - ds_can_coh = './DS_Processing_with_CLI/ds_can_coh.zarr'
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - az_chunk_size = 1000
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - ds_can_coh_chunk_size = None
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - ds_can_coh_ave_fig = './DS_Processing_with_CLI/ds_can_coh_ave.png'
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - log = None
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - fetching args done.
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - rslc dataset shape: (2500, 1834, 17)
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - rslc dataset chunks: (1000, 1834, 1)
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - is_shp dataset shape: (2500, 1834, 11, 11)
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - is_shp dataset chunks: (1000, 1834, 11, 11)
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - is_ds_can dataset shape: (2500, 1834)
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - is_ds_can dataset chunks: (1000, 1834)
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - got azimuth window size and half azimuth window size from is_shp shape: 11, 5
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - got range window size and half range window size from is_shp shape: 11, 5
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - parallel processing azimuth chunk size: 1000
2023-09-15 17:55:28 - de_emperical_co_sp - INFO - starting dask CUDA local cluster.
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - dask local CUDA cluster started.
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - rslc dask array shape: (2500, 1834, 17)
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - rslc dask array chunks: ((1000, 1000, 500), (1834,), (17,))
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - is_shp dask array shape: (2500, 1834, 11, 11)
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - is_shp dask array chunks: ((1000, 1000, 500), (1834,), (11,), (11,))
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - is_ds_can dask array shape: (2500, 1834)
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - is_ds_can dask array chunks: ((1000, 1000, 500), (1834,))
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - setting shared boundaries between rlsc chunks.
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - rslc dask array with overlap shape: (2520, 1834, 17)
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - rslc dask array with overlap chunks: ((1005, 1010, 505), (1834,), (17,))
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - padding zero between is_ds_can chunks.
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - is_ds_can dask array with padding shape: (2520, 1834)
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - is_ds_can dask array with padding chunks: ((1005, 1010, 505), (1834,))
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - slicing is_shp on ds candidate.
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - ds_can_is_shp dask array shape: (740397, 11, 11)
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - ds_can_is_shp dask array chunks: ((346329, 274921, 119147), (11,), (11,))
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - estimating coherence matrix.
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - got coherence matrix.
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - rechunking ds_can_coh to chunk size (for saving with zarr): ((246799, 246799, 246799), (17,), (17,))
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - saving ds_can_coh.
2023-09-15 17:55:34 - de_emperical_co_sp - INFO - computing graph setted. doing all the computing.
2023-09-15 17:55:45 - de_emperical_co_sp - INFO - computing finished.
2023-09-15 17:55:47 - de_emperical_co_sp - INFO - dask cluster closed.
2023-09-15 17:55:47 - de_emperical_co_sp - INFO - plotting average coherence matrix.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>2023-09-15 17:55:30,476 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:30,476 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:30,476 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:30,476 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:30,480 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:30,480 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:30,482 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:30,482 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:30,482 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:30,482 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:30,482 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:30,482 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:30,487 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:30,487 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:30,498 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:30,498 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="DS_Processing_with_CLI_files/figure-html/cell-15-output-3.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="phase-linking" class="level2">
<h2 class="anchored" data-anchor-id="phase-linking">Phase linking</h2>
<p>To get rid of the closure phase, phase linking is applied here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> decorrelation.cli.pl <span class="im">import</span> de_emi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>ds_can_ph <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/ds_can_ph.zarr'</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>ds_can_emi_quality <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/ds_can_emi_quality.zarr'</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>ref <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>vmin<span class="op">=</span><span class="fl">1.0</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>vmax<span class="op">=</span><span class="fl">1.3</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>emi_quality_fig <span class="op">=</span> <span class="st">'./DS_Processing_with_CLI/emi_quality.png'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>de_emi(ds_can_coh,ds_can_ph,ds_can_emi_quality,</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>       ref<span class="op">=</span>ref,point_chunk_size<span class="op">=</span><span class="va">None</span>,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>       plot_emi_quality<span class="op">=</span><span class="va">True</span>,vmin<span class="op">=</span>vmin,vmax<span class="op">=</span>vmax,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>       is_ds<span class="op">=</span>is_ds_can,emi_quality_fig<span class="op">=</span>emi_quality_fig)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2023-09-15 17:55:48 - de_emi - INFO - fetching args:
2023-09-15 17:55:48 - de_emi - INFO - coh = './DS_Processing_with_CLI/ds_can_coh.zarr'
2023-09-15 17:55:48 - de_emi - INFO - ph = './DS_Processing_with_CLI/ds_can_ph.zarr'
2023-09-15 17:55:48 - de_emi - INFO - emi_quality = './DS_Processing_with_CLI/ds_can_emi_quality.zarr'
2023-09-15 17:55:48 - de_emi - INFO - ref = 0
2023-09-15 17:55:48 - de_emi - INFO - point_chunk_size = None
2023-09-15 17:55:48 - de_emi - INFO - log = None
2023-09-15 17:55:48 - de_emi - INFO - plot_emi_quality = True
2023-09-15 17:55:48 - de_emi - INFO - vmin = 1.0
2023-09-15 17:55:48 - de_emi - INFO - vmax = 1.3
2023-09-15 17:55:48 - de_emi - INFO - is_ds = './DS_Processing_with_CLI/is_ds_can.zarr'
2023-09-15 17:55:48 - de_emi - INFO - emi_quality_fig = './DS_Processing_with_CLI/emi_quality.png'
2023-09-15 17:55:48 - de_emi - INFO - fetching args done.
2023-09-15 17:55:48 - de_emi - INFO - coh dataset shape: (740397, 17, 17)
2023-09-15 17:55:48 - de_emi - INFO - coh dataset chunks: (246799, 17, 17)
2023-09-15 17:55:48 - de_emi - INFO - using default parallel processing azimuth chunk size from coh dataset.
2023-09-15 17:55:48 - de_emi - INFO - parallel processing point chunk size: 246799
2023-09-15 17:55:48 - de_emi - INFO - starting dask CUDA local cluster.
2023-09-15 17:55:53 - de_emi - INFO - dask local CUDA cluster started.
2023-09-15 17:55:53 - de_emi - INFO - coh dask array shape: (740397, 17, 17)
2023-09-15 17:55:53 - de_emi - INFO - coh dask array chunks: ((246799, 246799, 246799), (17,), (17,))
2023-09-15 17:55:53 - de_emi - INFO - phase linking with EMI.
2023-09-15 17:55:53 - de_emi - INFO - got ph and emi_quality.
2023-09-15 17:55:53 - de_emi - INFO - ph dask array shape: (740397, 17)
2023-09-15 17:55:53 - de_emi - INFO - ph dask array chunks: ((246799, 246799, 246799), (17,))
2023-09-15 17:55:53 - de_emi - INFO - emi_quality dask array shape: (740397,)
2023-09-15 17:55:53 - de_emi - INFO - emi_quality dask array chunks: ((246799, 246799, 246799),)
2023-09-15 17:55:53 - de_emi - INFO - saving ph and emi_quality.
2023-09-15 17:55:53 - de_emi - INFO - computing graph setted. doing all the computing.
2023-09-15 17:55:56 - de_emi - INFO - computing finished.
2023-09-15 17:55:58 - de_emi - INFO - dask cluster closed.
2023-09-15 17:55:58 - de_emi - INFO - plotting emi_quality.
2023-09-15 17:55:58 - de_emi - INFO - reading is_ds bool array
2023-09-15 17:55:58 - de_emi - INFO - converting emi_quality from point cloud to raster.
2023-09-15 17:55:58 - de_emi - INFO - saving figure
2023-09-15 17:55:58 - de_emi - INFO - showing</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>2023-09-15 17:55:49,841 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:49,841 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:49,841 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:49,841 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:49,845 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:49,845 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:49,846 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:49,846 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:49,847 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:49,847 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:49,847 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:49,848 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:49,866 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:49,866 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize
2023-09-15 17:55:49,885 - distributed.preloading - INFO - Creating preload: dask_cuda.initialize
2023-09-15 17:55:49,885 - distributed.preloading - INFO - Import preload module: dask_cuda.initialize</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="DS_Processing_with_CLI_files/figure-html/cell-18-output-3.png" class="img-fluid"></p>
</div>
</div>
<p>Unfinished…</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>